<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å°ç†Šè²“äºç¨®æ¯”è¼ƒ</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Epilogue:wght@400;500;700;900&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="assets/css/styles.css">
<script id="tailwind-config">
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "primary": "#ec6d13",
                    "background-light": "#f8f7f6",
                    "background-dark": "#221810",
                },
                fontFamily: {
                    "display": ["Epilogue"]
                },
                borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
                animation: {
                    'fade-in': 'fadeIn 0.5s ease-in-out',
                    'slide-up': 'slideUp 0.3s ease-out',
                }
            },
        },
    }
</script>
<style>
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    body {
        min-height: max(884px, 100dvh);
    }
    .tab-content > div {
        display: none;
    }
    .tab-content > div.active {
        display: block;
        animation: fade-in 0.3s ease-in-out;
    }
    .loading-shimmer {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
    }
    @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
    }
</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-background-dark dark:text-background-light">
<div class="relative flex min-h-screen w-full flex-col justify-between overflow-x-hidden">
<div class="flex-grow">
<main class="p-4 pt-6">
    <!-- è¼‰å…¥æç¤º -->
    <div id="loading" class="text-center py-8">
        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
        <p class="mt-2 text-sm">è¼‰å…¥ä¸­...</p>
    </div>

    <!-- ä¸»è¦å…§å®¹ -->
    <div id="main-content" class="hidden">
        <!-- Tab æŒ‰éˆ• -->
        <div class="flex justify-around mb-8 gap-2">
            <button class="tab-btn active px-6 py-3 rounded-lg bg-primary text-white font-semibold transition-all duration-200 hover:bg-primary/90 min-h-12" data-tab="appearance">å¤–è§€</button>
            <button class="tab-btn px-6 py-3 rounded-lg text-background-dark dark:text-background-light font-semibold hover:bg-primary/10 transition-all duration-200 min-h-12" data-tab="distribution">åˆ†ä½ˆ</button>
            <button class="tab-btn px-6 py-3 rounded-lg text-background-dark dark:text-background-light font-semibold hover:bg-primary/10 transition-all duration-200 min-h-12" data-tab="behavior">ç¿’æ€§</button>
        </div>

        <!-- Tab å…§å®¹ -->
        <div class="tab-content">
            <!-- å¤–è§€æ¨™ç±¤ -->
            <div id="appearance" class="active">
                <div class="space-y-6">
                    <!-- ä¸­è¯å°ç†Šè²“å¡ç‰‡ -->
                    <div class="bg-white dark:bg-zinc-800/20 rounded-xl shadow-lg overflow-hidden">
                        <div class="relative h-48 bg-gradient-to-br from-orange-100 to-orange-50 dark:from-orange-900/30 dark:to-orange-800/20">
                            <img id="chinese-image" alt="ä¸­è¯å°ç†Šè²“" class="absolute inset-0 w-full h-full object-cover" />
                            <div class="absolute top-4 left-4 bg-white/90 dark:bg-black/70 px-3 py-1 rounded-full">
                                <span class="text-sm font-semibold text-primary">ğŸ‡¨ğŸ‡³ ä¸­è¯å°ç†Šè²“</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2">Ailurus fulgens styani</h3>
                            <div class="grid grid-cols-2 gap-4 text-base">
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">âš–ï¸</span>
                                        <div>
                                            <div class="text-sm text-gray-600 dark:text-gray-400">é«”é‡</div>
                                            <div class="font-semibold" id="chinese-weight"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">ğŸ¨</span>
                                        <div>
                                            <div class="text-sm text-gray-600 dark:text-gray-400">æ¯›è‰²</div>
                                            <div class="font-semibold" id="chinese-color"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center space-x-2">
                                <span class="text-lg">ğŸ¦˜</span>
                                <div>
                                    <div class="text-sm text-gray-600 dark:text-gray-400">å°¾ç´‹ç‰¹å¾µ</div>
                                    <div class="font-semibold" id="chinese-tail"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å–œé¦¬æ‹‰é›…å°ç†Šè²“å¡ç‰‡ -->
                    <div class="bg-white dark:bg-zinc-800/20 rounded-xl shadow-lg overflow-hidden">
                        <div class="relative h-48 bg-gradient-to-br from-purple-100 to-blue-50 dark:from-purple-900/30 dark:to-blue-800/20">
                            <img id="himalayan-image" alt="å–œé¦¬æ‹‰é›…å°ç†Šè²“" class="absolute inset-0 w-full h-full object-cover" />
                            <div class="absolute top-4 left-4 bg-white/90 dark:bg-black/70 px-3 py-1 rounded-full">
                                <span class="text-sm font-semibold text-primary">ğŸ”ï¸ å–œé¦¬æ‹‰é›…å°ç†Šè²“</span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2">Ailurus fulgens fulgens</h3>
                            <div class="grid grid-cols-2 gap-4 text-base">
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">âš–ï¸</span>
                                        <div>
                                            <div class="text-sm text-gray-600 dark:text-gray-400">é«”é‡</div>
                                            <div class="font-semibold" id="himalayan-weight"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">ğŸ¨</span>
                                        <div>
                                            <div class="text-sm text-gray-600 dark:text-gray-400">æ¯›è‰²</div>
                                            <div class="font-semibold" id="himalayan-color"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center space-x-2">
                                <span class="text-lg">ğŸ¦˜</span>
                                <div>
                                    <div class="text-sm text-gray-600 dark:text-gray-400">å°¾ç´‹ç‰¹å¾µ</div>
                                    <div class="font-semibold" id="himalayan-tail"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åˆ†ä½ˆæ¨™ç±¤ -->
            <div id="distribution">
                <div class="space-y-6">
                    <!-- ä¸­è¯å°ç†Šè²“åˆ†å¸ƒå¡ç‰‡ -->
                    <div class="bg-gradient-to-br from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-xl p-6 border border-blue-200/50 dark:border-blue-700/30">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-800/30 rounded-full flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ‡¨ğŸ‡³</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-blue-800 dark:text-blue-300">ä¸­è¯å°ç†Šè²“</h3>
                                <p class="text-sm text-blue-600 dark:text-blue-400">Ailurus fulgens styani</p>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">ğŸŒ</span>
                                    <span class="font-semibold text-blue-800 dark:text-blue-300">åˆ†å¸ƒåœ°å€</span>
                                </div>
                                <p class="text-base" id="chinese-location"></p>
                            </div>

                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">â›°ï¸</span>
                                    <span class="font-semibold text-blue-800 dark:text-blue-300">æµ·æ‹”é«˜åº¦</span>
                                </div>
                                <p class="text-base" id="chinese-elevation"></p>
                            </div>

                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">ğŸŒ¤ï¸</span>
                                    <span class="font-semibold text-blue-800 dark:text-blue-300">æ°£å€™æ¢ä»¶</span>
                                </div>
                                <p class="text-base" id="chinese-climate"></p>
                            </div>
                        </div>
                    </div>

                    <!-- å–œé¦¬æ‹‰é›…å°ç†Šè²“åˆ†å¸ƒå¡ç‰‡ -->
                    <div class="bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200/50 dark:border-purple-700/30">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-purple-100 dark:bg-purple-800/30 rounded-full flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ”ï¸</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-purple-800 dark:text-purple-300">å–œé¦¬æ‹‰é›…å°ç†Šè²“</h3>
                                <p class="text-sm text-purple-600 dark:text-purple-400">Ailurus fulgens fulgens</p>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">ğŸŒ</span>
                                    <span class="font-semibold text-purple-800 dark:text-purple-300">åˆ†å¸ƒåœ°å€</span>
                                </div>
                                <p class="text-base" id="himalayan-location"></p>
                            </div>

                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">â›°ï¸</span>
                                    <span class="font-semibold text-purple-800 dark:text-purple-300">æµ·æ‹”é«˜åº¦</span>
                                </div>
                                <p class="text-base" id="himalayan-elevation"></p>
                            </div>

                            <div class="bg-white/60 dark:bg-black/20 rounded-lg p-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">ğŸŒ¤ï¸</span>
                                    <span class="font-semibold text-purple-800 dark:text-purple-300">æ°£å€™æ¢ä»¶</span>
                                </div>
                                <p class="text-base" id="himalayan-climate"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç¿’æ€§æ¨™ç±¤ -->
            <div id="behavior">
                <div class="space-y-6">
                    <!-- ä¸­è¯å°ç†Šè²“ç¿’æ€§å¡ç‰‡ -->
                    <div class="bg-white dark:bg-zinc-800/20 rounded-xl shadow-lg overflow-hidden border-l-4 border-orange-400">
                        <div class="p-6">
                            <div class="flex items-center mb-6">
                                <div class="w-14 h-14 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center mr-4">
                                    <span class="text-3xl">ğŸ‡¨ğŸ‡³</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-orange-600 dark:text-orange-400">ä¸­è¯å°ç†Šè²“</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">è¡Œç‚ºç¿’æ€§ç‰¹å¾µ</p>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div class="bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸŒ™</span>
                                            <span class="font-semibold text-orange-800 dark:text-orange-300">æ´»å‹•æ™‚é–“</span>
                                        </div>
                                        <span class="text-base font-medium" id="chinese-activity"></span>
                                    </div>
                                </div>

                                <div class="bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸ‘¥</span>
                                            <span class="font-semibold text-orange-800 dark:text-orange-300">ç¤¾æœƒæ€§</span>
                                        </div>
                                        <span class="text-base font-medium" id="chinese-social"></span>
                                    </div>
                                </div>

                                <div class="bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸ§—</span>
                                            <span class="font-semibold text-orange-800 dark:text-orange-300">æ”€çˆ¬èƒ½åŠ›</span>
                                        </div>
                                        <span class="text-base font-medium" id="chinese-movement"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å–œé¦¬æ‹‰é›…å°ç†Šè²“ç¿’æ€§å¡ç‰‡ -->
                    <div class="bg-white dark:bg-zinc-800/20 rounded-xl shadow-lg overflow-hidden border-l-4 border-indigo-400">
                        <div class="p-6">
                            <div class="flex items-center mb-6">
                                <div class="w-14 h-14 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mr-4">
                                    <span class="text-3xl">ğŸ”ï¸</span>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-indigo-600 dark:text-indigo-400">å–œé¦¬æ‹‰é›…å°ç†Šè²“</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">è¡Œç‚ºç¿’æ€§ç‰¹å¾µ</p>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸŒ™</span>
                                            <span class="font-semibold text-indigo-800 dark:text-indigo-300">æ´»å‹•æ™‚é–“</span>
                                        </div>
                                        <span class="text-base font-medium" id="himalayan-activity"></span>
                                    </div>
                                </div>

                                <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸ‘¥</span>
                                            <span class="font-semibold text-indigo-800 dark:text-indigo-300">ç¤¾æœƒæ€§</span>
                                        </div>
                                        <span class="text-base font-medium" id="himalayan-social"></span>
                                    </div>
                                </div>

                                <div class="bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-3">ğŸ§—</span>
                                            <span class="font-semibold text-indigo-800 dark:text-indigo-300">æ”€çˆ¬èƒ½åŠ›</span>
                                        </div>
                                        <span class="text-base font-medium" id="himalayan-movement"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ¸¬é©—æŒ‰éˆ• -->
        <div class="mt-8 text-center">
            <button onclick="window.location.href='quiz.html'" class="bg-gradient-to-r from-primary to-orange-600 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 animate-slide-up">
                ğŸ§© é–‹å§‹æ¸¬é©—æŒ‘æˆ°
            </button>
            <p class="text-sm text-background-dark/60 dark:text-background-light/60 mt-2">æ¸¬è©¦ä½ æ˜¯å¦çœŸçš„äº†è§£å…©å€‹äºç¨®çš„å·®ç•°ï¼</p>
        </div>
    </div>
</main>
</div>

<div id="navbar-container"></div>
</div>

<script>
// Tab åˆ‡æ›åŠŸèƒ½
const tabButtons = document.querySelectorAll('.tab-btn');
const tabContents = document.querySelectorAll('.tab-content > div');

tabButtons.forEach(button => {
    button.addEventListener('click', () => {
        // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„ active ç‹€æ…‹
        tabButtons.forEach(btn => {
            btn.classList.remove('active', 'bg-primary', 'text-white');
            btn.classList.add('text-background-dark', 'dark:text-background-light');
        });
        tabContents.forEach(content => content.classList.remove('active'));

        // è¨­ç½®ç•¶å‰æŒ‰éˆ•ç‚º active
        button.classList.add('active', 'bg-primary', 'text-white');
        button.classList.remove('text-background-dark', 'dark:text-background-light');

        // é¡¯ç¤ºå°æ‡‰å…§å®¹
        const targetTab = button.getAttribute('data-tab');
        document.getElementById(targetTab).classList.add('active');
    });
});

// è¼‰å…¥ JSON è³‡æ–™
async function loadSubspeciesData() {
    try {
        console.log('æ­£åœ¨è¼‰å…¥æ•¸æ“šå¾:', '../../data/subspecies.json');
        const response = await fetch('../../data/subspecies.json');

        console.log('HTTP ç‹€æ…‹:', response.status);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();

        const chinese = data.subspecies.find(sub => sub.id === 'chinese');
        const himalayan = data.subspecies.find(sub => sub.id === 'himalayan');

        // æ›´æ–°åœ–ç‰‡ï¼ˆä¿®æ­£è·¯å¾‘ï¼‰
        const fixImagePath = (imagePath) => {
            if (imagePath.startsWith('./images/')) {
                return imagePath.replace('./images/', '../../images/');
            }
            return imagePath;
        };

        document.getElementById('chinese-image').src = fixImagePath(chinese.image);
        document.getElementById('himalayan-image').src = fixImagePath(himalayan.image);

        // æ›´æ–°å¤–è§€è³‡è¨Š
        document.getElementById('chinese-weight').textContent = chinese.characteristics.body_size.weight;
        document.getElementById('chinese-color').textContent = chinese.characteristics.appearance.fur_color;
        document.getElementById('chinese-tail').textContent = chinese.characteristics.appearance.tail_rings;

        document.getElementById('himalayan-weight').textContent = himalayan.characteristics.body_size.weight;
        document.getElementById('himalayan-color').textContent = himalayan.characteristics.appearance.fur_color;
        document.getElementById('himalayan-tail').textContent = himalayan.characteristics.appearance.tail_rings;

        // æ›´æ–°åˆ†ä½ˆè³‡è¨Š
        document.getElementById('chinese-location').textContent = chinese.characteristics.habitat.location;
        document.getElementById('chinese-elevation').textContent = chinese.characteristics.habitat.elevation;
        document.getElementById('chinese-climate').textContent = chinese.characteristics.habitat.climate;

        document.getElementById('himalayan-location').textContent = himalayan.characteristics.habitat.location;
        document.getElementById('himalayan-elevation').textContent = himalayan.characteristics.habitat.elevation;
        document.getElementById('himalayan-climate').textContent = himalayan.characteristics.habitat.climate;

        // æ›´æ–°è¡Œç‚ºè³‡è¨Š
        document.getElementById('chinese-activity').textContent = chinese.characteristics.behavior.activity_pattern;
        document.getElementById('chinese-social').textContent = chinese.characteristics.behavior.social;
        document.getElementById('chinese-movement').textContent = chinese.characteristics.behavior.movement;

        document.getElementById('himalayan-activity').textContent = himalayan.characteristics.behavior.activity_pattern;
        document.getElementById('himalayan-social').textContent = himalayan.characteristics.behavior.social;
        document.getElementById('himalayan-movement').textContent = himalayan.characteristics.behavior.movement;

        // éš±è—è¼‰å…¥æç¤ºï¼Œé¡¯ç¤ºä¸»è¦å…§å®¹
        document.getElementById('loading').classList.add('hidden');
        document.getElementById('main-content').classList.remove('hidden');

    } catch (error) {
        console.error('è¼‰å…¥æ•¸æ“šå¤±æ•—:', error);
        document.getElementById('loading').innerHTML = '<p class="text-red-500">è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†é é¢</p>';
    }
}

// é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
document.addEventListener('DOMContentLoaded', loadSubspeciesData);
</script>
<script src="assets/js/navbar.js"></script>
</body>
</html>